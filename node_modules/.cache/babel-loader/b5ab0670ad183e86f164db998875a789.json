{"remainingRequest":"/home/bicaolantian/web_devel/myproject/air_ticket_reservation_system/atkr_client/node_modules/babel-loader/lib/index.js!/home/bicaolantian/web_devel/myproject/air_ticket_reservation_system/atkr_client/src/js/searchFlight.js?vue&type=script&lang=js&","dependencies":[{"path":"/home/bicaolantian/web_devel/myproject/air_ticket_reservation_system/atkr_client/src/js/searchFlight.js","mtime":1562255666884},{"path":"/home/bicaolantian/web_devel/myproject/air_ticket_reservation_system/atkr_client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bicaolantian/web_devel/myproject/air_ticket_reservation_system/atkr_client/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.replace\";\nexport default {\n  data: function data() {\n    return {\n      flInfo: {\n        ticket: 1,\n        //单程--1  往返--2\n        originplace: \"\",\n        //出发地点\n        destination: \"\",\n        //目的地\n        startdate: \"\",\n        //去程日期，格式：\"yyyy-mm-dd\"\n        backdate: \"\",\n        //回程日期\n        passnum: 1 //乘客人数\n\n      },\n      city: [[\"西安\", \"大理\", \"厦门\", \"三亚\"], [\"北京\", \"武汉\", \"上海\", \"长沙\", \"广州\", \"深圳\", \"大理\"]],\n      hotcity: [\"西安\", \"大理\", \"厦门\", \"三亚\"],\n      common: [\"北京\", \"武汉\", \"上海\", \"长沙\", \"广州\", \"深圳\", \"大理\"],\n      pickerOptions: {\n        //日期组件带的\n        disadledDate: function disadledDate(time) {\n          return time.getTime() > Data.now();\n        }\n      },\n      number: [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\"],\n      options: [\"老年人(65岁或以上)\", \"成人(18-64岁)\", \"少年(12-17岁)\", \"儿童(2-11岁)\"],\n      passvalue: [\"成人(18-64岁)\", \"成人(18-64岁)\", \"成人(18-64岁)\", \"成人(18-64岁)\", \"成人(18-64岁)\", \"成人(18-64岁)\", \"成人(18-64岁)\", \"成人(18-64岁)\", \"成人(18-64岁)\"],\n      selectedStyle: {\n        color: '#fff'\n      },\n      psgBgStyle: {\n        left: 0\n      },\n      psgBgWidth: 0\n    };\n  },\n  methods: {\n    /*搜索航班 */\n    search: function search() {\n      if (this.flInfo.originplace) {\n        alert(\"请输入起始地址\");\n        return;\n      }\n\n      if (this.flInfo.destination) {\n        alert(\"请输入目的地\");\n        return;\n      }\n\n      if (this.flInfo.startdate) {\n        alert(\"请输入去程日期\");\n        return;\n      }\n\n      var today = new Date().toLocaleDateString();\n      today = new Date(\"\".concat(today, \" 08:00:00\")).getTime();\n      var startdate = new Date(\"\".concat(this.flInfo.startdate, \" 08:00:00\")).getTime(); //console.log(today+\" \"+startdate);\n\n      if (startdate < today) {\n        alert(\"无法预定今天之前的机票，请重新选择\");\n        return;\n      }\n\n      if (this.flInfo.ticket == 2 && !this.flInfo.backdate) {\n        alert(\"请输入回程日期\");\n        return;\n      }\n\n      var backdate = new Date(\"\".concat(this.flInfo.backdate, \" 08:00:00\")).getTime(); //console.log(today+\" \"+backdate);\n\n      if (this.flInfo.ticket == 2 && backdate < today) {\n        alert(\"无法预定今天之前的机票，请重新选择\");\n        return;\n      }\n\n      if (this.flInfo.ticket == 1) {\n        this.flInfo.backdate = \"\";\n      }\n\n      this.$router.push({\n        path: \"/flightlist\",\n        params: this.flInfo\n      });\n    },\n    delAddr: function delAddr(key) {\n      this.flInfo[key] = '';\n    },\n    //获取当前日期\n    getNow: function getNow() {\n      var date = new Date().toLocaleDateString();\n      date = date.replace(/\\//g, \"-\"); //把/替换成-\n      //把月份和日期中一位数字前面加0\n\n      date = date.replace(/-([0-9])-/g, \"-0$1-\");\n      date = date.replace(/-([0-9])$/g, \"-0$1\"); //console.log(date);\n\n      return date;\n    },\n\n    /*选择乘客人数 */\n    chooseNum: function chooseNum(e, num) {\n      console.dir(e.target.offsetWidth, num);\n      this.flInfo.passnum = num;\n      this.psgBgWidth = e.target.offsetWidth;\n      var left = this.psgBgWidth * (num - 1) + \"px\";\n      console.log(left);\n      this.psgBgStyle = {\n        left: left\n      };\n    },\n\n    /*选择单程 or 往返 */\n    bgChange: function bgChange(n) {\n      this.flInfo.ticket = n;\n    }\n  },\n  mounted: function mounted() {\n    //首页热门航线传过来的地址给起始地和目的地\n    console.log(this.$route.params);\n    this.flInfo.originplace = this.$route.params.start;\n    this.flInfo.destination = this.$route.params.end; //给去程和回程日期设置一个初始值：即当前日期\n\n    this.flInfo.startdate = this.getNow();\n    this.flInfo.backdate = this.getNow(); //需要获取焦点时加上深蓝色边框，失去焦点时去掉边框的元素都加到数组中统一处理\n\n    var list = [\".address\", \".passNum\", \".adrInput input.start\", \".adrInput input.end\", \".everypass>.el-select>.el-input>input\"];\n\n    for (var _i = 0, _list = list; _i < _list.length; _i++) {\n      var item = _list[_i];\n      var tar = document.querySelector(item);\n\n      tar.onfocus = function (e) {\n        this.style.outline = \"none\";\n        this.style.border = \"2px solid #051039\";\n      };\n\n      tar.onblur = function (e) {\n        this.style.border = \"2px solid #ccc\";\n      };\n    }\n    /*地址搜索按钮 */\n\n\n    var search = document.querySelectorAll(\".adrInput>.el-col-3>.box\");\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = search[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var tar = _step.value;\n\n        /*获取焦点，展开下拉卡片 */\n        tar.onfocus = function () {\n          var id = \"\";\n\n          if (this.id == \"b1\") {\n            id = \"c1\";\n          } else {\n            id = \"c2\";\n          }\n\n          var card = document.querySelector(\".adrInput #\" + id);\n          this.style.outline = \"none\";\n          this.style.border = \"2px solid #051039\";\n          card.style.height = \"300px\";\n          card.style.overflow = \"scroll\";\n        };\n        /*失去焦点，合上下拉卡片 */\n\n\n        tar.onblur = function (e) {\n          // var id = \"\";\n          // if (this.id == \"b1\") {\n          //     id = \"c1\";\n          // } else {\n          //     id = \"c2\";\n          // }\n          this.style.border = \"0px\";\n          setTimeout(function () {\n            //失去焦点收起卡片太快了，点击选择卡片内容会选不上，所以加个延时\n            var card = document.querySelector(\".adrInput #\" + id);\n            card.style.height = \"0\";\n            card.style.overflow = \"hidden\";\n          }, 200);\n        };\n      }\n      /*下拉地址列表 */\n\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    var lis = document.querySelectorAll(\"#card1 li\");\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = lis[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var li = _step2.value;\n\n        li.onclick = function () {\n          //console.log(this.id);\n          this.originplace = this.id;\n        };\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n\n    var lis = document.querySelectorAll(\"#card2 li\");\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n      for (var _iterator3 = lis[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n        var li = _step3.value;\n\n        li.onclick = function () {\n          //console.log(this.id);\n          this.flInfo.destination = this.id;\n        };\n      }\n    } catch (err) {\n      _didIteratorError3 = true;\n      _iteratorError3 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n          _iterator3.return();\n        }\n      } finally {\n        if (_didIteratorError3) {\n          throw _iteratorError3;\n        }\n      }\n    }\n  }\n};",{"version":3,"sources":["/home/bicaolantian/web_devel/myproject/air_ticket_reservation_system/atkr_client/src/js/searchFlight.js"],"names":["data","flInfo","ticket","originplace","destination","startdate","backdate","passnum","city","hotcity","common","pickerOptions","disadledDate","time","getTime","Data","now","number","options","passvalue","selectedStyle","color","psgBgStyle","left","psgBgWidth","methods","search","alert","today","Date","toLocaleDateString","$router","push","path","params","delAddr","key","getNow","date","replace","chooseNum","e","num","console","dir","target","offsetWidth","log","bgChange","n","mounted","$route","start","end","list","item","tar","document","querySelector","onfocus","style","outline","border","onblur","querySelectorAll","id","card","height","overflow","setTimeout","lis","li","onclick"],"mappings":";;;;AAAA,eAAe;AACXA,EAAAA,IADW,kBACJ;AACH,WAAO;AACHC,MAAAA,MAAM,EAAE;AACJC,QAAAA,MAAM,EAAE,CADJ;AACO;AACXC,QAAAA,WAAW,EAAE,EAFT;AAEa;AACjBC,QAAAA,WAAW,EAAE,EAHT;AAGa;AACjBC,QAAAA,SAAS,EAAE,EAJP;AAIW;AACfC,QAAAA,QAAQ,EAAE,EALN;AAKU;AACdC,QAAAA,OAAO,EAAE,CANL,CAMQ;;AANR,OADL;AASHC,MAAAA,IAAI,EAAE,CACF,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CADE,EAEF,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,CAFE,CATH;AAaHC,MAAAA,OAAO,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAbN;AAcHC,MAAAA,MAAM,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,CAdL;AAeHC,MAAAA,aAAa,EAAE;AACX;AACAC,QAAAA,YAFW,wBAEEC,IAFF,EAEQ;AACf,iBAAOA,IAAI,CAACC,OAAL,KAAiBC,IAAI,CAACC,GAAL,EAAxB;AACH;AAJU,OAfZ;AAqBHC,MAAAA,MAAM,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,CArBL;AAsBHC,MAAAA,OAAO,EAAE,CACL,aADK,EAEL,YAFK,EAGL,YAHK,EAIL,WAJK,CAtBN;AA4BHC,MAAAA,SAAS,EAAE,CACP,YADO,EAEP,YAFO,EAGP,YAHO,EAIP,YAJO,EAKP,YALO,EAMP,YANO,EAOP,YAPO,EAQP,YARO,EASP,YATO,CA5BR;AAuCHC,MAAAA,aAAa,EAAE;AACXC,QAAAA,KAAK,EAAE;AADI,OAvCZ;AA0CHC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE;AADE,OA1CT;AA6CHC,MAAAA,UAAU,EAAC;AA7CR,KAAP;AA+CH,GAjDU;AAkDXC,EAAAA,OAAO,EAAE;AACL;AACAC,IAAAA,MAFK,oBAEI;AACL,UAAI,KAAKzB,MAAL,CAAYE,WAAhB,EAA6B;AACzBwB,QAAAA,KAAK,CAAC,SAAD,CAAL;AACA;AACH;;AACD,UAAI,KAAK1B,MAAL,CAAYG,WAAhB,EAA6B;AACzBuB,QAAAA,KAAK,CAAC,QAAD,CAAL;AACA;AACH;;AACD,UAAI,KAAK1B,MAAL,CAAYI,SAAhB,EAA2B;AACvBsB,QAAAA,KAAK,CAAC,SAAD,CAAL;AACA;AACH;;AACD,UAAIC,KAAK,GAAG,IAAIC,IAAJ,GAAWC,kBAAX,EAAZ;AACAF,MAAAA,KAAK,GAAG,IAAIC,IAAJ,WAAYD,KAAZ,gBAA8Bd,OAA9B,EAAR;AACA,UAAIT,SAAS,GAAG,IAAIwB,IAAJ,WAAY,KAAK5B,MAAL,CAAYI,SAAxB,gBAA8CS,OAA9C,EAAhB,CAfK,CAgBL;;AACA,UAAIT,SAAS,GAAGuB,KAAhB,EAAuB;AACnBD,QAAAA,KAAK,CAAC,mBAAD,CAAL;AACA;AACH;;AACD,UAAI,KAAK1B,MAAL,CAAYC,MAAZ,IAAsB,CAAtB,IAA2B,CAAC,KAAKD,MAAL,CAAYK,QAA5C,EAAsD;AAClDqB,QAAAA,KAAK,CAAC,SAAD,CAAL;AACA;AACH;;AACD,UAAIrB,QAAQ,GAAG,IAAIuB,IAAJ,WAAY,KAAK5B,MAAL,CAAYK,QAAxB,gBAA6CQ,OAA7C,EAAf,CAzBK,CA0BL;;AACA,UAAI,KAAKb,MAAL,CAAYC,MAAZ,IAAsB,CAAtB,IAA2BI,QAAQ,GAAGsB,KAA1C,EAAiD;AAC7CD,QAAAA,KAAK,CAAC,mBAAD,CAAL;AACA;AACH;;AACD,UAAI,KAAK1B,MAAL,CAAYC,MAAZ,IAAsB,CAA1B,EAA6B;AACzB,aAAKD,MAAL,CAAYK,QAAZ,GAAuB,EAAvB;AACH;;AACD,WAAKyB,OAAL,CAAaC,IAAb,CAAkB;AACdC,QAAAA,IAAI,EAAE,aADQ;AAEdC,QAAAA,MAAM,EAAE,KAAKjC;AAFC,OAAlB;AAIH,KAxCI;AAyCLkC,IAAAA,OAzCK,mBAyCGC,GAzCH,EAyCQ;AACT,WAAKnC,MAAL,CAAYmC,GAAZ,IAAmB,EAAnB;AACH,KA3CI;AA4CL;AACAC,IAAAA,MA7CK,oBA6CI;AACL,UAAIC,IAAI,GAAG,IAAIT,IAAJ,GAAWC,kBAAX,EAAX;AACAQ,MAAAA,IAAI,GAAGA,IAAI,CAACC,OAAL,CAAa,KAAb,EAAoB,GAApB,CAAP,CAFK,CAE4B;AACjC;;AACAD,MAAAA,IAAI,GAAGA,IAAI,CAACC,OAAL,CAAa,YAAb,EAA2B,OAA3B,CAAP;AACAD,MAAAA,IAAI,GAAGA,IAAI,CAACC,OAAL,CAAa,YAAb,EAA2B,MAA3B,CAAP,CALK,CAML;;AACA,aAAOD,IAAP;AACH,KArDI;;AAsDL;AACAE,IAAAA,SAvDK,qBAuDKC,CAvDL,EAuDOC,GAvDP,EAuDY;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYH,CAAC,CAACI,MAAF,CAASC,WAArB,EAAiCJ,GAAjC;AACA,WAAKzC,MAAL,CAAYM,OAAZ,GAAsBmC,GAAtB;AACA,WAAKlB,UAAL,GAAgBiB,CAAC,CAACI,MAAF,CAASC,WAAzB;AACA,UAAIvB,IAAI,GAAC,KAAKC,UAAL,IAAiBkB,GAAG,GAAC,CAArB,IAAwB,IAAjC;AACAC,MAAAA,OAAO,CAACI,GAAR,CAAYxB,IAAZ;AACA,WAAKD,UAAL,GAAkB;AAACC,QAAAA,IAAI,EAAJA;AAAD,OAAlB;AACH,KA9DI;;AA+DL;AACAyB,IAAAA,QAhEK,oBAgEIC,CAhEJ,EAgEO;AACR,WAAKhD,MAAL,CAAYC,MAAZ,GAAqB+C,CAArB;AACH;AAlEI,GAlDE;AAsHXC,EAAAA,OAtHW,qBAsHD;AACN;AACAP,IAAAA,OAAO,CAACI,GAAR,CAAY,KAAKI,MAAL,CAAYjB,MAAxB;AACA,SAAKjC,MAAL,CAAYE,WAAZ,GAA0B,KAAKgD,MAAL,CAAYjB,MAAZ,CAAmBkB,KAA7C;AACA,SAAKnD,MAAL,CAAYG,WAAZ,GAA0B,KAAK+C,MAAL,CAAYjB,MAAZ,CAAmBmB,GAA7C,CAJM,CAMN;;AACA,SAAKpD,MAAL,CAAYI,SAAZ,GAAwB,KAAKgC,MAAL,EAAxB;AACA,SAAKpC,MAAL,CAAYK,QAAZ,GAAuB,KAAK+B,MAAL,EAAvB,CARM,CAWN;;AACA,QAAIiB,IAAI,GAAG,CACP,UADO,EAEP,UAFO,EAGP,uBAHO,EAIP,qBAJO,EAKP,uCALO,CAAX;;AAOA,6BAAiBA,IAAjB,2BAAuB;AAAlB,UAAIC,IAAI,YAAR;AACD,UAAIC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuBH,IAAvB,CAAV;;AACAC,MAAAA,GAAG,CAACG,OAAJ,GAAc,UAAUlB,CAAV,EAAa;AACvB,aAAKmB,KAAL,CAAWC,OAAX,GAAqB,MAArB;AACA,aAAKD,KAAL,CAAWE,MAAX,GAAoB,mBAApB;AACH,OAHD;;AAIAN,MAAAA,GAAG,CAACO,MAAJ,GAAa,UAAUtB,CAAV,EAAa;AACtB,aAAKmB,KAAL,CAAWE,MAAX,GAAoB,gBAApB;AACH,OAFD;AAGH;AACD;;;AACA,QAAIpC,MAAM,GAAG+B,QAAQ,CAACO,gBAAT,CAA0B,0BAA1B,CAAb;AA9BM;AAAA;AAAA;;AAAA;AA+BN,2BAAgBtC,MAAhB,8HAAwB;AAAA,YAAf8B,GAAe;;AACpB;AACAA,QAAAA,GAAG,CAACG,OAAJ,GAAc,YAAY;AACtB,cAAIM,EAAE,GAAG,EAAT;;AACA,cAAI,KAAKA,EAAL,IAAW,IAAf,EAAqB;AACjBA,YAAAA,EAAE,GAAG,IAAL;AACH,WAFD,MAEO;AACHA,YAAAA,EAAE,GAAG,IAAL;AACH;;AACD,cAAIC,IAAI,GAAGT,QAAQ,CAACC,aAAT,CAAuB,gBAAgBO,EAAvC,CAAX;AACA,eAAKL,KAAL,CAAWC,OAAX,GAAqB,MAArB;AACA,eAAKD,KAAL,CAAWE,MAAX,GAAoB,mBAApB;AACAI,UAAAA,IAAI,CAACN,KAAL,CAAWO,MAAX,GAAoB,OAApB;AACAD,UAAAA,IAAI,CAACN,KAAL,CAAWQ,QAAX,GAAsB,QAAtB;AACH,SAZD;AAaA;;;AAEAZ,QAAAA,GAAG,CAACO,MAAJ,GAAa,UAAUtB,CAAV,EAAa;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,eAAKmB,KAAL,CAAWE,MAAX,GAAoB,KAApB;AACAO,UAAAA,UAAU,CAAC,YAAY;AACnB;AACA,gBAAIH,IAAI,GAAGT,QAAQ,CAACC,aAAT,CAAuB,gBAAgBO,EAAvC,CAAX;AACAC,YAAAA,IAAI,CAACN,KAAL,CAAWO,MAAX,GAAoB,GAApB;AACAD,YAAAA,IAAI,CAACN,KAAL,CAAWQ,QAAX,GAAsB,QAAtB;AACH,WALS,EAKP,GALO,CAAV;AAMH,SAdD;AAeH;AACD;;AAhEM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAiEN,QAAIE,GAAG,GAAGb,QAAQ,CAACO,gBAAT,CAA0B,WAA1B,CAAV;AAjEM;AAAA;AAAA;;AAAA;AAkEN,4BAAeM,GAAf,mIAAoB;AAAA,YAAXC,EAAW;;AAChBA,QAAAA,EAAE,CAACC,OAAH,GAAa,YAAY;AACrB;AACA,eAAKrE,WAAL,GAAmB,KAAK8D,EAAxB;AACH,SAHD;AAIH;AAvEK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAwEN,QAAIK,GAAG,GAAGb,QAAQ,CAACO,gBAAT,CAA0B,WAA1B,CAAV;AAxEM;AAAA;AAAA;;AAAA;AAyEN,4BAAeM,GAAf,mIAAoB;AAAA,YAAXC,EAAW;;AAChBA,QAAAA,EAAE,CAACC,OAAH,GAAa,YAAY;AACrB;AACA,eAAKvE,MAAL,CAAYG,WAAZ,GAA0B,KAAK6D,EAA/B;AACH,SAHD;AAIH;AA9EK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+ET;AArMU,CAAf","sourcesContent":["export default {\r\n    data() {\r\n        return {\r\n            flInfo: {\r\n                ticket: 1, //单程--1  往返--2\r\n                originplace: \"\", //出发地点\r\n                destination: \"\", //目的地\r\n                startdate: \"\", //去程日期，格式：\"yyyy-mm-dd\"\r\n                backdate: \"\", //回程日期\r\n                passnum: 1, //乘客人数\r\n            },\r\n            city: [\r\n                [\"西安\", \"大理\", \"厦门\", \"三亚\"],\r\n                [\"北京\", \"武汉\", \"上海\", \"长沙\", \"广州\", \"深圳\", \"大理\"]\r\n            ],\r\n            hotcity: [\"西安\", \"大理\", \"厦门\", \"三亚\"],\r\n            common: [\"北京\", \"武汉\", \"上海\", \"长沙\", \"广州\", \"深圳\", \"大理\"],\r\n            pickerOptions: {\r\n                //日期组件带的\r\n                disadledDate(time) {\r\n                    return time.getTime() > Data.now();\r\n                }\r\n            },\r\n            number: [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\"],\r\n            options: [\r\n                \"老年人(65岁或以上)\",\r\n                \"成人(18-64岁)\",\r\n                \"少年(12-17岁)\",\r\n                \"儿童(2-11岁)\"\r\n            ],\r\n            passvalue: [\r\n                \"成人(18-64岁)\",\r\n                \"成人(18-64岁)\",\r\n                \"成人(18-64岁)\",\r\n                \"成人(18-64岁)\",\r\n                \"成人(18-64岁)\",\r\n                \"成人(18-64岁)\",\r\n                \"成人(18-64岁)\",\r\n                \"成人(18-64岁)\",\r\n                \"成人(18-64岁)\"\r\n            ],\r\n            selectedStyle: {\r\n                color: '#fff'\r\n            },\r\n            psgBgStyle: {\r\n                left: 0\r\n            },\r\n            psgBgWidth:0\r\n        };\r\n    },\r\n    methods: {\r\n        /*搜索航班 */\r\n        search() {\r\n            if (this.flInfo.originplace) {\r\n                alert(\"请输入起始地址\");\r\n                return;\r\n            }\r\n            if (this.flInfo.destination) {\r\n                alert(\"请输入目的地\");\r\n                return;\r\n            }\r\n            if (this.flInfo.startdate) {\r\n                alert(\"请输入去程日期\");\r\n                return;\r\n            }\r\n            var today = new Date().toLocaleDateString();\r\n            today = new Date(`${today} 08:00:00`).getTime();\r\n            var startdate = new Date(`${this.flInfo.startdate} 08:00:00`).getTime();\r\n            //console.log(today+\" \"+startdate);\r\n            if (startdate < today) {\r\n                alert(\"无法预定今天之前的机票，请重新选择\");\r\n                return;\r\n            }\r\n            if (this.flInfo.ticket == 2 && !this.flInfo.backdate) {\r\n                alert(\"请输入回程日期\");\r\n                return;\r\n            }\r\n            var backdate = new Date(`${this.flInfo.backdate} 08:00:00`).getTime();\r\n            //console.log(today+\" \"+backdate);\r\n            if (this.flInfo.ticket == 2 && backdate < today) {\r\n                alert(\"无法预定今天之前的机票，请重新选择\");\r\n                return;\r\n            }\r\n            if (this.flInfo.ticket == 1) {\r\n                this.flInfo.backdate = \"\";\r\n            }\r\n            this.$router.push({\r\n                path: \"/flightlist\",\r\n                params: this.flInfo\r\n            });\r\n        },\r\n        delAddr(key) {\r\n            this.flInfo[key] = '';\r\n        },\r\n        //获取当前日期\r\n        getNow() {\r\n            var date = new Date().toLocaleDateString();\r\n            date = date.replace(/\\//g, \"-\"); //把/替换成-\r\n            //把月份和日期中一位数字前面加0\r\n            date = date.replace(/-([0-9])-/g, \"-0$1-\");\r\n            date = date.replace(/-([0-9])$/g, \"-0$1\");\r\n            //console.log(date);\r\n            return date;\r\n        },\r\n        /*选择乘客人数 */\r\n        chooseNum(e,num) {\r\n            console.dir(e.target.offsetWidth,num);\r\n            this.flInfo.passnum = num;\r\n            this.psgBgWidth=e.target.offsetWidth;\r\n            var left=this.psgBgWidth*(num-1)+\"px\";\r\n            console.log(left);\r\n            this.psgBgStyle = {left};\r\n        },\r\n        /*选择单程 or 往返 */\r\n        bgChange(n) {\r\n            this.flInfo.ticket = n;\r\n        }\r\n    },\r\n    mounted() {\r\n        //首页热门航线传过来的地址给起始地和目的地\r\n        console.log(this.$route.params);\r\n        this.flInfo.originplace = this.$route.params.start;\r\n        this.flInfo.destination = this.$route.params.end;\r\n\r\n        //给去程和回程日期设置一个初始值：即当前日期\r\n        this.flInfo.startdate = this.getNow();\r\n        this.flInfo.backdate = this.getNow();\r\n\r\n\r\n        //需要获取焦点时加上深蓝色边框，失去焦点时去掉边框的元素都加到数组中统一处理\r\n        var list = [\r\n            \".address\",\r\n            \".passNum\",\r\n            \".adrInput input.start\",\r\n            \".adrInput input.end\",\r\n            \".everypass>.el-select>.el-input>input\"\r\n        ];\r\n        for (var item of list) {\r\n            var tar = document.querySelector(item);\r\n            tar.onfocus = function (e) {\r\n                this.style.outline = \"none\";\r\n                this.style.border = \"2px solid #051039\";\r\n            };\r\n            tar.onblur = function (e) {\r\n                this.style.border = \"2px solid #ccc\";\r\n            };\r\n        }\r\n        /*地址搜索按钮 */\r\n        var search = document.querySelectorAll(\".adrInput>.el-col-3>.box\");\r\n        for (var tar of search) {\r\n            /*获取焦点，展开下拉卡片 */\r\n            tar.onfocus = function () {\r\n                var id = \"\";\r\n                if (this.id == \"b1\") {\r\n                    id = \"c1\";\r\n                } else {\r\n                    id = \"c2\";\r\n                }\r\n                var card = document.querySelector(\".adrInput #\" + id);\r\n                this.style.outline = \"none\";\r\n                this.style.border = \"2px solid #051039\";\r\n                card.style.height = \"300px\";\r\n                card.style.overflow = \"scroll\";\r\n            };\r\n            /*失去焦点，合上下拉卡片 */\r\n\r\n            tar.onblur = function (e) {\r\n                // var id = \"\";\r\n                // if (this.id == \"b1\") {\r\n                //     id = \"c1\";\r\n                // } else {\r\n                //     id = \"c2\";\r\n                // }\r\n                this.style.border = \"0px\";\r\n                setTimeout(function () {\r\n                    //失去焦点收起卡片太快了，点击选择卡片内容会选不上，所以加个延时\r\n                    var card = document.querySelector(\".adrInput #\" + id);\r\n                    card.style.height = \"0\";\r\n                    card.style.overflow = \"hidden\";\r\n                }, 200);\r\n            };\r\n        }\r\n        /*下拉地址列表 */\r\n        var lis = document.querySelectorAll(\"#card1 li\");\r\n        for (var li of lis) {\r\n            li.onclick = function () {\r\n                //console.log(this.id);\r\n                this.originplace = this.id;\r\n            };\r\n        }\r\n        var lis = document.querySelectorAll(\"#card2 li\");\r\n        for (var li of lis) {\r\n            li.onclick = function () {\r\n                //console.log(this.id);\r\n                this.flInfo.destination = this.id;\r\n            };\r\n        }\r\n    }\r\n};"]}]}